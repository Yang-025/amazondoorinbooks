function amazonSearchButton(a){if(!a)return!1;const b=document.createElement("div");return b.classList.add("looklook-btn-search"),b.id="amazon-search",b.innerHTML="Amazon",b.onclick=function(){const b=window.open(`https://www.amazon.com/s?k=${a}&i=stripbooks-intl-ship`,"_blank");b?b.focus():alert("Please allow popups for this website")},b}function booksSearchButton(a){if(!a)return!1;const b=document.createElement("div");return b.classList.add("looklook-btn-search"),b.id="books-search",b.innerHTML="\u535A\u5BA2\u4F86",b.onclick=function(){const b=window.open(`https://search.books.com.tw/search/query/key/${a}/cat/all`,"_blank");b?b.focus():alert("Please allow popups for this website")},b}function koboSearchButton(a){const b=document.createElement("div");return b.classList.add("looklook-btn-search"),b.id="kobo-search",b.innerHTML="kobo",b.onclick=function(){const b=window.open(`https://www.kobo.com/tw/zh/search?query=${a}`,"_blank");b?b.focus():alert("Please allow popups for this website")},b}function addButton(a,b,c){if(c&&a){if("amazon"===b){const b=amazonSearchButton(c);a.appendChild(b)}if("books"===b){const b=booksSearchButton(c);a.appendChild(b)}if("kobo"===b){const b=koboSearchButton(c);a.appendChild(b)}}}/**
 * 如果有英文書名，就在下方加上一個連結，連結點下去可以搜尋amazon的資訊
 */function addAmazonSearch(a){let b,c,d,e=["amazon","books","kobo"];if("books"===a){if(e=e.filter(a=>"books"!==a),b=document.querySelector(".type02_p002"),!b)return!1;let a=b.querySelector("h1");a&&(c=a.textContent);let f=b.querySelector("h2 > a");f&&(d=f.textContent)}if("kobo"===a){if(e=e.filter(a=>"kobo"!==a),b=document.querySelector(".item-info"),!b)return!1;let a=b.querySelector(".title.product-field");a&&(c=a.textContent);let f=b.querySelector(".subtitle.product-field");f&&(d=f.textContent)}const f=document.createElement("div");f.className="looklook-wrapper",e.forEach(a=>{console.log("tagType, enTitle",a,d),"amazon"===a?addButton(f,a,d):addButton(f,a,c)}),b&&b.appendChild(f)}